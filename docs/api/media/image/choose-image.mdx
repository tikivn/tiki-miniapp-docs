---
title: my.chooseImage
---

## Giới thiệu

**my.chooseImage** là API dùng để lấy hình từ camera hoặc từ album.

## Sử dụng

### Sample Code

```xml
<view>
  <block-header title="Usage" description="Pick image from camera or albums" />
  <view class="block-content">
    <button class="button-full" onTap="onChooseImage">Choose Image</button>
  </view>
  <block tiki:for="{{imgs}}">
    <image src="{{item}}" />
  </block>
</view>
```

```js
Page({
  data: {
    imgs: undefined,
  },
  onChooseImage() {
    my.chooseImage({
      count: 5,
      success: (res) => {
        console.log(res);
        this.setData({
          imgs: res.filePaths,
        });
      },
      fail: (e) => {
        console.log(e);
      },
    });
  },
});
```

### API Params

Các thuộc tính:

| Attributes | Type     | Required | Description                                                                    |
| ---------- | -------- | -------- | ------------------------------------------------------------------------------ |
| count      | Number   | No       | Số lượng tối đa images được select                                             |
| sourceType | Array    | No       | Take camera hoặc album. Mặc định là cả 2. ["camera", "albums"]                 |
| success    | Function | No       | Callback function khi pick image được thực hiện thành công                     |
| fail       | Function | No       | Callback function khi pick image thất bại                                      |
| complete   | Function | No       | Callback function khi việc pick image kết thúc cho dù thành công hay thất bại. |

### Callback function payload

| Attributes | Type   | Description                |
| ---------- | ------ | -------------------------- |
| filePaths  | Array  | List các đường đẫn tạm thời của các images được select ra. Sử dụng đường dẫn này để display image hoặc upload |
| tempFiles  | Array  | List các images được select ra bao gồm đường dẫn tạm thời, size, width, height...          |                                         

### tempFiles payload

| Attributes | Type   | Description                |
| ---------- | ------ | -------------------------- |
| path       | string | Đường đẫn tạm thời của image   |
| size       | number  | Dung lượng của image (byte)   |                                         
| width      | number  | Chiều rộng của image (px)     |    
| height     | number  | Chiều cao của image (px)      |





<img style={{maxWidth: 414}} alt="choose-image" src="/img/choose-image.gif"/>  